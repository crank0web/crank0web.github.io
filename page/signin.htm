<div class="signin">
	<form v-on:submit="submit">
		<div class="title">
			<i class="svg ic-logo"></i>
			<h1>C Rank</h1>
		</div>
		<label>
			<span class="txt-username"></span>
			<input name="a" autofocus>
			<i class="svg ic-person"></i>
		</label>
		<label>
			<span class="txt-password"></span>
			<input name="b" type="password">
			<i class="svg ic-lock"></i>
		</label>
		<p>{{message}}</p>
		<button type="submit">로그인</button>
	</form>
</div>
<script type="module">
import { createApp, ref } from 'https://unpkg.com/vue@3/dist/vue.esm-browser.js'
import {env} from '/env.mjs'

const main=env.get("main")
const message=ref("")

createApp({
	setup(){
		return {
			message
		}
	},
	methods:{
		async submit(e){
			e.preventDefault()

			message.value="로그인 .."

			var {code}=await main.xget("signin")
			if(code==200){
				message.value="로딩중 .."
				await main.init()
			}else{
				message.value="아이디와 비밀번호를 다시 확인해주세요."
			}
		}
	}
}).mount(".signin")
</script>
<style>
.signin{height:100%;background:radial-gradient(circle,#00efff 0%,#009fff 100%)}
.signin form{
	position:absolute;top:0;right:0;bottom:0;left:0;max-width:20em;max-height:fit-content;
	margin:auto;padding:2em;color:#333
}
.signin form .ic-logo{content:url('https://api.iconify.design/meteocons/cloud-up-fill.svg')}
.signin form .ic-person{content:url('https://api.iconify.design/ic/sharp-person.svg?color=%23666')}
.signin form .ic-lock{content:url('https://api.iconify.design/streamline/interface-login-password-lock-login-padlock-password-secure-security-textbox-type.svg?color=%23666')}
.g-recaptcha>div{margin:.5em auto}
</style>
